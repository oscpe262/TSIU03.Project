Volym Balans

Inputs:

LADC, RADC
kb\_input
lrsel

Outputs:

volume\_input (volume\_level?)
balance\_input (balance\_level?)

LDAC, RDAC
nomod\_LDAC, nomod\_RDAC
buffered\_lrsel



Application:

LÃ¥gpassfiltrerar



The Vol\_Bal module has the following tasks in the system:

 * Receive interpreted commands from the Keyboard module, kb\_input. This signal
will be of 4-bit width of the type std\_logic\_vector, coded in a ``one-hot'' fashion. The 4 bits represent: Volume increase, volume decrease, balance shift left, balance shift right. 
 * Hold current levels of volume and balance in a sub-module of registers. These registers will yield the module outputs volume\_ and balance\_levels.
 * Receive all incoming LADC and RADC signals passed on by SndDriver. These are 16-bit signed values that represent readings of the analogue sound channel. The input lrsel is also received and acts as a control.
 * Process these signals per current vol/bal levels. An exclusively forwarded signal, unprocessed by the vol\_bal module, corresponds to a value of '0' in the signed volume\_level register. There are 11 achievable values for each respective level register (-5, -4, ... , 5). Balancing the output towards one speaker channel results in an up to -15dB loss of volume of the NEW volume adjusted value on the adjusted channel.
 * The amplitude of the sound signal will be adjusted by multiplying/dividing the value by the square root of 2 respectively, once per (in/de)crement of volume level. Any balance adjustment will be on the resulting value from the volume adjustment.
 * Volume and Balance level registers also acts as outputs sent to the VGADriver for rendering.

 * nomod\_RDAC and LDAC are (potentially buffered) (in a submodule) (and) forwarded to one Analysis module.
 * RDAC and LDAC are the resulting values after processing that are sent back to SndDriver as well as forwarded to the other Analysis module.

